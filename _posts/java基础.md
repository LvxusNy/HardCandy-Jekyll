---
layout: post
title:  "java基础"
date:   2018-10-12
tags: java基础 String final static
color: rgb(255,90,90)
cover: '../assets/java.jpg'
---

#### 缓存池

包装类中，使用new 在堆中创建一个字符串对象，而使用valueOf会使用缓存池中的对象(多次调用会使用同一对象)

#### String

不变性->hash不变，线性安全

#### StringPool

使用字面量创建字符串对象时，会直接添加到**StringPool**，使用new创建字符串对象，则不会。

字符串调用intern()方法，会把该字符串添加到**StringPool**中。

**StringPool**在jdk7之前是属于永久代，jdk7之后移到堆中

#### 浅拷贝和深拷贝

浅拷贝->复制对象和原对象引用同一对象(复制对象修改，原对象也会被修改)

深拷贝->复制对象和原对象引用不同对象(复制对象修改，原对象不会被修改)

避免使用clone()方法克隆对象，使用克隆的构造函数或者拷贝工厂拷贝对象

#### final和static

###### final

声明对象为基本类型，即初始化后无法被修改。

声明对象为引用类型，即初始化后无法改变引用对象，但被引用的对象本身内容可以修改

声明方法，方法无法被重写

声明类，类无法被继承

###### static

声明变量，成为静态变量或者类变量，类所有实例共享静态变量，内存中只有一份，可以直接使用类访问

与之相对的是实例变量，每创建一个实例都会产生实例变量

声明方法，成为静态方法，在类加载时存在，不依赖与任何实例，必须有所实现，所以不能为抽象方法

方法中只能访问所属类中的静态方法和静态变量，因此不能使用this和super关键字

声明语句块，在类加载时会运行且只运行一次

声明内部类，非静态内部类需要依赖于外部类的实例，而静态内部类不需要，静态内部类不能访问外部类的非静态的变量和方法

声明顺序，先父到子，先静态到非静态，先变量到语句块，最后到构造函数



